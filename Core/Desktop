--Variables--
local currWindow = 1
local Settings = {}
local Shortcuts = {}
local textutilsserialize = textutils.serialize
local textutilsunserialize = textutils.unserialize
term.redirect(term.native())

--Functions--
local function loadShortcut(x)
	m = fs.open("TheOS/Desktop/"..tostring(x)..".shortcuts","r")
	Shortcuts = textutilsunserialize(m.readAll())
	m.close()
end



--Code--

--Load Settings
f = fs.open("TheOS/Desktop/Settings","r")
Settings = textutilsunserialize(f.readAll())
term.setCursorPos(1,1)
print(textutilsserialize(f.readAll()))
os.pullEvent()
f.close()

--Load Shortcuts--
loadShortcut(currWindow)

term.setCursorPos(1,1)
print(textutilsserialize(Settings))
os.pullEvent()

term.setBackgroundColor(Settings[1])
term.clear()