local function readFile(_path)
	local file = fs.open(_path,"r")
	local data = file.readAll()
	file.close()
	return data
end

local buffer = readFile(programPath.."Settings")
Settings = textutils.unserialize( buffer )

local buffer = readFile(programPath.."MatchingColors")
MatchingColors = textutilsunserialize(buffer)

local buffer = readFile(programPath.."Settings")
Settings = textutils.unserialize( buffer )

local buffer = readFile(programPath.."MatchingColors")
MatchingColors = textutilsunserialize(buffer)

QuickSettings.Button = {
	Right = {
		name = "Right",
		label = ">",
		xPos = w-1,
		yPos = 5,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = MatchingColors[MatchingColors[Settings.bgColor]["quickSettings"]]["mainButtons"],
		bgColor = MatchingColors[Settings.bgColor]["quickSettings"],
		returnValue = "Right",
	},
	Left = {
		name = "Left",
		label = "<",
		xPos = 2,
		yPos = 5,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = MatchingColors[MatchingColors[Settings.bgColor]["quickSettings"]]["mainButtons"],
		bgColor = MatchingColors[Settings.bgColor]["quickSettings"],
		returnValue = "Left",
	},
	Green = {
		name = "Green",
		label = " ",
		xPos = 31,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.green,
		returnValue = "color:green",
	},
	Lime = {
		name = "Lime",
		label = " ",
		xPos = 31,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.lime,
		returnValue = "color:lime",
	},
	Brown = {
		name = "Brown",
		label = " ",
		xPos = 32,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.brown,
		returnValue = "color:brown",
	},
	Purple = {
		name = "Purple",
		label = " ",
		xPos = 32,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.purple,
		returnValue = "color:purple",
	},
	Blue = {
		name = "Blue",
		label = " ",
		xPos = 33,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.blue,
		returnValue = "color:blue",
	},
	lightBlue = {
		name = "lightBlue",
		label = " ",
		xPos = 33,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.lightBlue,
		returnValue = "color:lightBlue",
	},
	Yellow = {
		name = "Yellow",
		label = " ",
		xPos = 34,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.yellow,
		returnValue = "color:yellow",
	},
	Cyan = {
		name = "Cyan",
		label = " ",
		xPos = 34,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.cyan,
		returnValue = "color:cyan",
	},
	Orange = {
		name = "Orange",
		label = " ",
		xPos = 35,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.orange,
		returnValue = "color:orange",
	},
	Pink = {
		name = "Pink",
		label = " ",
		xPos = 35,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.pink,
		returnValue = "color:pink",
	},
	Red = {
		name = "Red",
		label = " ",
		xPos = 36,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.red,
		returnValue = "color:red",
	},
	Magenta = {
		name = "Magenta",
		label = " ",
		xPos = 36,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.magenta,
		returnValue = "color:magenta",
	},
	White = {
		name = "White",
		label = " ",
		xPos = 37,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.white,
		returnValue = "color:white",
	},
	lightGray = {
		name = "lightGray",
		label = " ",
		xPos = 37,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.lightGray,
		returnValue = "color:lightGray",
	},
	Black = {
		name = "Black",
		label = " ",
		xPos = 38,
		yPos = 6,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.black,
		returnValue = "color:black",
	},
	Gray = {
		name = "Gray",
		label = " ",
		xPos = 38,
		yPos = 7,
		xLength = 1,
		yLength = 1,
		xTextPos = 1,
		yTextPos = 1,
		fgColor = 1,
		bgColor = colors.gray,
		returnValue = "color:gray",
	},
	RefreshColor = {
		name = "RefreshColor",
		label = "Refresh",
		xPos = 40,
		yPos = 3,
		xLength = 9,
		yLength = 5,
		xTextPos = 2,
		yTextPos = 3,
		fgColor = 1,
		bgColor = colors.gray,
		returnValue = "Refresh",
	},
}

QuickSettings.BetterPaint = {
	Restart = {
		xPos = 4,
		yPos = 2,
		name = "Restart",
		path = programPath.."QuickSettings/restart.ico",
		yLength = 6,
		xLength = 7,
		returnValue = "reboot",
		label = "Restart",
		labelFg = MatchingColors[MatchingColors[Settings.bgColor]["quickSettings"]]["mainButtons"],
		labelBg = MatchingColors[Settings.bgColor]["quickSettings"],
	},
	Shutdown = {
		xPos = 22,
		yPos = 2,
		name = "Shutdown",
		path = programPath.."QuickSettings/shutdown.ico",
		yLength = 6,
		xLength = 7,
		returnValue = "shutdown",
		label = "Shutdown",
		labelFg = MatchingColors[MatchingColors[Settings.bgColor]["quickSettings"]]["mainButtons"],
		labelBg = MatchingColors[Settings.bgColor]["quickSettings"],
	},
	Settings = {
		xPos = 13,
		yPos = 2,
		name = "Settings",
		path = programPath.."QuickSettings/settings.ico",
		yLength = 6,
		xLength = 7,
		returnValue = "settings",
		label = "Settings",
		labelFg = MatchingColors[MatchingColors[Settings.bgColor]["quickSettings"]]["mainButtons"],
		labelBg = MatchingColors[Settings.bgColor]["quickSettings"],
	},
}

QuickSettings.Text = {
	Label = {
		name = "Label",
		text = "QuickSettings",
		xPos = w/2-6,
		yPos = 1,
		bgColor = MatchingColors[Settings.bgColor]["quickSettings"],
		fgColor = Settings.bgColor,
	},
}
QuickSettings.Key = {
	R = {
		name = "R",
		key = "r",
		onPress = function() os.reboot() end,
	},
	S = {
		name = "S",
		key = "s",
		onPress = function() os.shutdown() end,
	},
	LeftAlt = {
		name = "LeftAlt",
		key = "LeftAlt",
		onPress = function() System.newTask("Settings","Settings") end,
	}
},

return QuickSettings
